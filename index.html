<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Queen üëë</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Playfair+Display:ital,wght@0,400;1,600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { --primary-pink: #ff4d6d; --royal-gold: #d4af37; --deep-rose: #c9184a; }
        body {
            display: flex; justify-content: center; align-items: center;
            height: 100vh; margin: 0; overflow: hidden;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            font-family: 'Poppins', sans-serif; touch-action: manipulation;
        }
        #container {
            background: rgba(255, 255, 255, 0.88); backdrop-filter: blur(12px);
            padding: 40px; border-radius: 30px; text-align: center;
            width: 85%; max-width: 400px; z-index: 10;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
        }
        h1 { font-family: 'Playfair Display', serif; color: var(--deep-rose); font-size: 1.8rem; margin: 0 0 20px 0; }
        .buttons { display: flex; justify-content: center; gap: 20px; min-height: 80px; position: relative; margin-top: 10px; }
        button { padding: 14px 30px; border: none; border-radius: 50px; cursor: pointer; transition: 0.3s; font-family: 'Poppins'; font-weight: 600; }
        #yesBtn { background: var(--primary-pink); color: white; box-shadow: 0 5px 15px rgba(255, 77, 109, 0.3); }
        #noBtn { background: #f8f9fa; color: #6c757d; position: relative; z-index: 12; border: 1px solid #dee2e6; touch-action: none; }
        .story-btn { background: var(--royal-gold); color: white; display: none; margin-top: 25px; }
        
        #bookModal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); z-index: 20; justify-content: center; align-items: center;
        }
        .book-page {
            background: #fffafa; width: 88%; max-width: 420px; height: 80vh;
            padding: 30px; border-radius: 20px; position: relative;
            box-shadow: 0 25px 50px rgba(0,0,0,0.4); border-left: 10px solid var(--royal-gold);
            display: flex; flex-direction: column;
        }
        .book-text { font-family: 'Playfair Display', serif; line-height: 1.6; color: #333; overflow-y: auto; flex-grow: 1; text-align: left; }
        .book-text h2 { font-family: 'Dancing Script', cursive; color: var(--deep-rose); margin-top: 0; text-align: center; font-size: 1.8rem; }
        .book-text img { width: 100%; border-radius: 10px; margin-bottom: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        
        .nav-btns { display: flex; justify-content: space-between; align-items: center; padding-top: 15px; border-top: 1px solid #eee; }
        .nav-btns button { background: none; color: var(--primary-pink); font-size: 0.9rem; padding: 5px; width: auto; }
        .page-number { font-size: 0.8rem; color: #888; }
        .heart { position: absolute; color: rgba(255, 77, 109, 0.3); font-size: 20px; pointer-events: none; animation: floatUp 4s linear infinite; }
        @keyframes floatUp { from { transform: translateY(100vh); opacity: 1; } to { transform: translateY(-10vh); opacity: 0; } }
    </style>
</head>
<body>

    <div id="container">
        <h1 id="question">Will you be my forever? üíç</h1>
        <div class="buttons" id="mainButtons">
            <button id="yesBtn" onclick="sayYes()">Yes</button>
            <button id="noBtn" onmouseover="moveButton()" ontouchstart="moveButton()">No</button>
        </div>
        <button id="storyBtn" class="story-btn" onclick="openBook()">Open My Heart üìñ</button>
    </div>

    <div id="bookModal">
        <div class="book-page">
            <div id="bookContent" class="book-text"></div>
            <div class="nav-btns">
                <button id="prevBtn" onclick="changePage(-1)">‚Üê Back</button>
                <span class="page-number" id="pageIndicator"></span>
                <button id="nextBtn" onclick="changePage(1)">Next ‚Üí</button>
            </div>
            <button onclick="closeBook()" style="background: none; color: #bbb; font-size: 10px; margin-top: 10px; width: 100%;">Close Letter</button>
        </div>
    </div>

    <script>
        const chapters = [
            { title: "Chapter I: The Echo", image: "photo1.jpg", text: "We started as two names on a list, two faces in a crowded room on a 'Welcome Day' that felt ordinary at the time.\n\nI didn‚Äôt know then that the girl sitting across the room would eventually become the reason I look forward to the morning." },
            { title: "Chapter II: The Shift", image: "", text: "Then the world moved us closer. New titles, new reasons to speak.\n\nWhat started as 'work' became 'us.' I began to notice the way you carried yourself‚Äîwith a grace that seemed effortless and a kindness that felt like sunlight." },
            { title: "Chapter III: The Thread", image: "photo2.jpg", text: "The office walls eventually faded, but our conversation didn‚Äôt.\n\nWe found a new home in the glow of our screens, weaving a thread of words that stretched from morning until the stars came out." },
            { title: "Chapter IV: The Song", image: "", text: "I‚Äôve learned the map of your reactions now. When I tell you that you are too bright for my eyes, you make those quiet, cute little noises‚Äîthe ones that tell me you can‚Äôt quite handle the praise." },
            { title: "Chapter V: The Warmth", image: "photo3.jpg", text: "Being near you feels like finally standing in the right place.\n\nIt is a peaceful warmth, but it is also a storm in my chest. When you smile at me, my heart pounds with a rhythm I can‚Äôt control." },
            { title: "Chapter VI: The Realization", image: "", text: "I wrote this because words spoken out loud sometimes get lost in the heartbeat I feel when you're near. 'Just friends' felt like a beautiful book with the most important chapter missing." },
            { title: "The Final Page: My Queen", image: "photo4.jpg", text: "Now that we are walking this path together, I‚Äôve fallen for you faster than I ever thought possible. I find myself constantly desiring the warmth of your hugs and the sweetness of your kisses. I will forever treat you well, my Queen." }
        ];

        let currentPage = 0;

        function createHeart() {
            const heart = document.createElement('div'); heart.classList.add('heart');
            heart.innerHTML = '‚ù§Ô∏è'; heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 4000);
        }
        setInterval(createHeart, 500);

        function moveButton() {
            const btn = document.getElementById('noBtn');
            btn.style.position = 'fixed';
            const padding = 50;
            const maxX = window.innerWidth - btn.offsetWidth - padding;
            const maxY = window.innerHeight - btn.offsetHeight - padding;
            btn.style.left = Math.max(padding, Math.floor(Math.random() * maxX)) + 'px';
            btn.style.top = Math.max(padding, Math.floor(Math.random() * maxY)) + 'px';
            document.getElementById('yesBtn').style.transform = `scale(${1 + (currentPage * 0.1 + 0.3)})`;
        }

        function sayYes() {
            confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
            document.getElementById('question').innerHTML = "I knew you would say YES! ‚ù§Ô∏è";
            document.getElementById('mainButtons').style.display = 'none';
            document.getElementById('storyBtn').style.display = 'inline-block';
        }

        function openBook() { 
            document.getElementById('bookModal').style.display = 'flex'; 
            updateBookContent(); 
        }

        function closeBook() { 
            document.getElementById('bookModal').style.display = 'none'; 
        }

        function changePage(step) { 
            currentPage += step; 
            updateBookContent(); 
        }

        function updateBookContent() {
            const content = document.getElementById('bookContent');
            const pageInfo = document.getElementById('pageIndicator');
            const ch = chapters[currentPage];
            let imgTag = ch.image ? `<img src="${ch.image}" alt="Us">` : "";
            content.innerHTML = `<h2>${ch.title}</h2>${imgTag}<p style="white-space: pre-line;">${ch.text}</p>`;
            pageInfo.innerHTML = `Page ${currentPage + 1} of ${chapters.length}`;
            document.getElementById('prevBtn').disabled = (currentPage === 0);
            document.getElementById('nextBtn').disabled = (currentPage === chapters.length - 1);
            content.scrollTop = 0;
        }
    </script>
</body>
</html>
